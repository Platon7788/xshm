language = "C"
include_guard = "XSHM_H"
pragma_once = true
sys_includes = ["stdint.h", "stdbool.h", "stddef.h"]
cpp_compat = true

[parse]
# Исключаем внутренний модуль ntapi из генерации
parse_deps = false
include = ["xshm"]
exclude = ["ntapi"]

[export]
# Исключаем NT типы и константы которые конфликтуют с Windows SDK
exclude = [
    # Типы
    "NTSTATUS",
    "ULONG", 
    "ACCESS_MASK",
    "HANDLE",
    "PVOID",
    "BOOLEAN",
    "ULONG_PTR",
    "LARGE_INTEGER",
    "LARGE_INTEGER_PARTS",
    "UNICODE_STRING",
    "OBJECT_ATTRIBUTES",
    "SECURITY_DESCRIPTOR",
    "NullDaclSecurityDescriptor",
    "NtName",
    # Константы
    "STATUS_SUCCESS",
    "STATUS_TIMEOUT",
    "STATUS_WAIT_0",
    "OBJ_CASE_INSENSITIVE",
    "SECTION_ALL_ACCESS",
    "PAGE_READWRITE",
    "SEC_COMMIT",
    "VIEW_UNMAP",
    "EVENT_ALL_ACCESS",
    "SYNCHRONIZATION_EVENT",
    "NOTIFICATION_EVENT",
    "WAIT_ANY",
    "WAIT_ALL",
    "NT_CURRENT_PROCESS",
    "SECURITY_DESCRIPTOR_REVISION",
]
include = [
    "shm_endpoint_config_t",
    "shm_callbacks_t",
    "shm_error_t",
    "shm_direction_t",
    "shm_auto_options_t",
    "shm_auto_stats_t",
    "ServerHandle",
    "ClientHandle",
    "AutoServerHandle",
    "AutoClientHandle",
    "shm_server_start",
    "shm_server_wait_for_client",
    "shm_server_stop",
    "shm_server_send",
    "shm_server_receive",
    "shm_server_poll",
    "shm_auto_options_default",
    "shm_server_start_auto",
    "shm_server_send_auto",
    "shm_server_stats_auto",
    "shm_server_stop_auto",
    "shm_client_connect",
    "shm_client_disconnect",
    "shm_client_is_connected",
    "shm_client_send",
    "shm_client_receive",
    "shm_client_poll",
    "shm_client_connect_auto",
    "shm_client_send_auto",
    "shm_client_stats_auto",
    "shm_client_disconnect_auto"
]

